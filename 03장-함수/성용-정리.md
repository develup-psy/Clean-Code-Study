# 3장 함수는 그 언어에서 동사며 클래스는 명사다.

## 1. 3장에 대한 요약

책에서 강조되는 핵심적인 원칙은 다음과 같습니다.

1. 작은 함수 만들기:

- 함수는 작고 간결해야 하며, 하나의 함수는 하나의 책임만을 가져야 합니다.
- 저자는 함수는 20줄을 넘지 말아야 한다고 강조합니다. 이는 SOLID 원칙에서의 **단일 책임 원칙(SRP)**과 맥락을 같이합니다.
- 예를 들어, 저자가 renderPageWithSetupsAndTeardowns 함수를 리팩터링한 코드에서, 함수가 너무 크고 복잡하다면, 이를 여러 개의 작은 함수로 나누어 재사용성과 가독성을 높여야 한다는 메시지를 전달합니다.

2. 블록과 들여쓰기:

- if문, else문, while문과 같은 조건문 및 반복문 블록은 단 한 줄로 작성하고, 그 안에서 함수를 호출하는 것이 좋습니다. 이렇게 하면 함수 크기가 작아지고, 코드의 흐름이 간결하고 명확해집니다.
- 저자는 함수가 커지지 않도록 중첩 구조가 생기지 않도록 주의해야 한다고 말합니다.

3. 한 가지 작업만 하게 하라:

- 함수는 반드시 하나의 작업만 수행해야 하며, 이를 통해 함수 내 추상화 수준을 일관되게 유지할 수 있습니다.
- 저자는 함수가 여러 가지 작업을 한다면, 함수명이 여러 가지로 변경될 가능성이 커지므로, 함수는 한 가지 작업만 해야 한다는 원칙을 강조합니다.

4. 함수의 추상화 수준은 하나로:

- 함수 내에서 추상화 수준이 동일해야 한다는 주장입니다. 예를 들어, getHtml()처럼 상위 추상화 수준의 함수가 있다면, 그 함수 내에서 하위 추상화 수준의 코드가 들어가면 안 됩니다.
- 이를 위해서는 코드가 위에서 아래로 읽히도록 작성하여, 추상화 수준을 일관되게 유지하는 것이 중요합니다.

5. 함수명과 변수명:

- 서술적인 이름을 사용하는 것이 중요합니다. 함수명이나 변수명은 그 기능이나 역할을 정확히 나타내어야 하며, 길어도 괜찮다고 말합니다. 이름을 잘 지으면, 코드의 가독성이 향상되고, 코드 자체가 문서화되어 다른 개발자나 나 자신이 나중에 코드를 이해할 때 직관적으로 알 수 있게 됩니다.

6. 부수 효과를 일으키지 마라:

- 함수는 부수 효과를 일으키지 않아야 합니다. 예를 들어, 세션을 초기화하거나 파일을 수정하는 등의 부수 효과는 코드를 예측 불가능하게 만들고, 오류를 발생시킬 수 있습니다.
- 부수 효과를 최소화하려면, 출력 인수를 사용하지 않고 단일 책임을 수행하는 함수로 구성해야 합니다.

7. 명령과 조회를 분리하라:

- 명령(데이터 변경)과 조회(데이터 반환) 기능을 같은 함수 내에서 수행하지 않도록 분리해야 한다고 말합니다.
- 예를 들어, set이라는 함수가 데이터 조회를 동시에 한다면, 이는 원칙을 어기는 것이며, 조회 함수와 명령 함수를 명확히 분리해야 합니다.

8. 예외 사용:

- 오류 처리 시 오류 코드를 반환하는 방식보다는 예외를 사용하여 오류 처리 코드를 분리하는 것이 깔끔하고 유지보수성이 뛰어나다고 강조합니다.

9. 반복하지 마라:

- 중복 코드를 피하고, 중복을 제거하는 것이 중요합니다. 이는 유지보수성을 높이고, 코드가 변경될 때 수정 비용을 줄일 수 있기 때문입니다.

## 느낀점 및 배운점

### 1. 가독성 있는 함수의 중요성

책에서 가독성을 강조하는 부분은 가장 기억에 남았습니다. 예시로 나온 긴 함수인 testableHtml을 보면서, 처음에는 함수명만으로 어떤 일을 하는지 바로 이해할 수 있을 것 같았지만, 실제로 코드가 길고 복잡하다 보니, 그 기능을 제대로 파악하는 것이 어려웠습니다. 파라미터와 변수명을 보고 추측은 할 수 있었지만, 코드가 너무 길어 맥락을 파악하기 어려웠습니다.

그러나 리팩토링된 코드는 가독성이 확실히 높아졌습니다. **newPageContent**와 같은 명확한 변수명으로 무엇을 저장하는지 알 수 있었고, 코드가 더 직관적이고 이해하기 쉬워졌습니다. 결국, 함수명과 변수명이 명확하고 간결하면 다른 개발자나 자기 자신이 그 코드를 다시 사용할 때 훨씬 더 빠르게 이해하고 사용할 수 있다는 점에서 가독성 있는 함수가 얼마나 중요한지 다시한번 깨닫게 되었습니다.

### 2. 함수를 쪼개라는 것의 의미와 나의 경험

저자는 "함수를 작게 쪼개라"는 말을 자주 강조합니다. 처음엔 이 말이 단순히 함수를 작게 만드는 것 같았지만, 그 안에 구조화와 계층화의 중요성이 담겨 있다는 걸 깨달았습니다. 예시로 들었던 renderPageWithSetupsAndTeardowns 함수는 결국 조건문에 따라 다른 함수를 호출하는 구조로 되어 있었는데, 그럼에도 불구하고 하나의 함수에서 여러 가지 기능을 처리하는 대신 작고 나누어진 함수들이 호출되는 방식으로 리팩토링되었습니다.

이 과정에서 코드의 재사용성과 유지보수성이 개선되었음을 실감했습니다. 특히, 내가 처음 프론트엔드 프로젝트를 진행할 때 코드가 복잡해져 리팩토링만 하며 하루 종일 시간을 보냈던 경험이 떠오릅니다. 이 경험을 통해 코드를 나누는 것, 함수의 역할을 분명히 하는 것의 중요성을 더욱 잘 깨달았고, 그 이후로 MVC나 MVVM 패턴에 맞게 디렉토리 구조를 설계하는 것의 중요성도 배우게 되었습니다.

따라서 함수를 작게 나누는 것뿐만 아니라 함수를 구조화하고, 이름을 명확히 지어 구분하는 것이 중요하다는 점을 깨달았습니다.

### 3. 한가지만 해라

이 장에서 가장 어려웠던 부분은 **"한 가지 일만 하라"**는 원칙입니다. 처음엔 이 원칙을 어떻게 적용할지 잘 모르겠었고, 그 기준을 잡기 위해서는 프로젝트 경험이 필요하다고 느꼈습니다. 하지만 저자가 **"추상화 수준"**에 대해 설명한 부분을 읽고 나서는 조금 더 이해할 수 있었습니다.

예를 들어, 추상화 수준이 높은 함수는 모든 기능을 한 번에 실행하는 방식이 될 수 있고, 추상화 수준이 낮은 함수는 데이터를 추가하는 등의 기본적인 작업을 수행하는 함수가 될 수 있다는 설명을 통해, 추상화 수준을 일관되게 맞추는 것의 중요성을 알게 되었습니다. 이를 통해 함수의 **단일 책임 원칙(SRP)**을 적용하여 한 가지 작업만 하도록 만드는 방법을 이해할 수 있었습니다.

### 4. 좋은 함수를 작성하는 과정

**좋은 함수는 여러번 반복해서 만들어진다**

저자는 함수 리팩토링의 과정을 통해, 처음에는 길고 복잡한 코드가 점차 단순해지고, 간결해지며, 재사용성도 높아진다는 것을 보여줍니다. 처음에는 긴 코드와 중복된 코드, 많은 인수들이 존재하더라도 리팩토링을 통해 점차적으로 개선해 나갈 수 있다는 점에서 큰 위로가 되었습니다. 특히, 저자가 강조한 단위 테스트와 함께 리팩토링을 진행하는 방법은 매우 실용적이고, 나 또한 이를 꼭 실천하고 싶다는 다짐을 하게 되었습니다.

**개발은 이야기이다**

저자는 함수를 잘 만드는 것의 궁극적인 목표는 단지 코드의 질을 높이는 것이 아니라, 시스템이라는 이야기를 잘 풀어가는 것이라고 말합니다. 이는 저에게 매우 공감이 갔습니다. 개발이라는 것은 나 이런 거 할 수 있어라고 뽐내기 위한 자리가 아니라, 사용자의 요구 사항을 조금 더 명확하게 풀어내는 과정이라는 것을 다시 한 번 느꼈습니다. 우리가 만든 코드는 시스템의 동작을 설명하는 이야기와도 같고, 이 이야기가 실제로 서비스로 상호작용하며 제공되는 것이기 때문입니다.
