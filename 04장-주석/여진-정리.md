# Chapter 4. 주석


## 📚 서론 

> “나쁜 코드에 주석을 달지 마라. 새로 짜라.”  
> - **브라이언 W. 커니핸 & P.J. 플라우거**

코드를 작성할 때 우리는 종종 **"이해하기 쉽게 주석을 달아야 한다"** 는 생각을 한다.  
하지만 현실에서는 주석이 오히려 **코드를 혼란스럽게 만들거나 유지보수를 어렵게 하는 경우**가 많다.  
코드가 지속적으로 변경되지만, 주석은 쉽게 방치되거나 오래된 정보를 담은 채 남겨져 코드와 불일치하게 되는 경우가 많다.  

> "주석 없이도 읽기 쉬운 코드가 가장 좋은 코드다."

이 장에서는 **주석의 역할과 필요성**을 살펴보고, 주석이 정말 필요한 상황과 불필요한 상황을 구분하는 방법을 알아본다.

<br>

## 🧐 1. 주석의 필요성 



### **🤔 1) 주석이 필요한가?** 

- **주석의 역할**  
    - 코드를 더 이해하기 쉽게 만드는 보조적인 수단  
    - 코드의 의도를 설명하는 역할

- **주석이 항상 긍정적인 것은 아니다**  
    - 모든 코드에 주석이 필요한 것은 아님  
    - 코드만으로 이해할 수 있는 것이 더 좋은 코드  
    - 주석은 코드의 일부가 아니므로, 유지보수 시 코드와 불일치할 가능성이 높다.

- **주석이 적어도 좋은 코드가 되는 이유**  
    - 코드 자체로 의미를 전달할 수 있어야 함 (주석은 코드의 의도를 설명하는 보조적인 역할)  
    - 함수명과 변수명이 직관적이라면 주석이 필요 없음  
    - 가독성이 높은 코드는 주석 없이도 이해 가능

> “코드는 변하지만, 주석은 변하지 않는 경우가 많아 오히려 거짓 정보를 전달할 수 있다.”  

- **주석 없이도 코드를 이해할 수 있다면, 주석은 필요하지 않다.**  
- **주석이 많아질수록 유지보수해야 할 내용도 많아진다.**  
- **주석이 필요할 정도로 복잡한 코드라면, 주석이 아니라 코드 자체를 개선해야 한다.**

### **🏗️ 2) 주석과 코드 품질의 관계** 

- **코드 품질과 주석 사용량의 관계**  
    - 코드 품질이 낮을수록 주석을 보완 수단으로 활용하려는 경향  
    - 코드 품질이 높으면 주석 없이도 코드가 직관적으로 이해됨

- **코드 품질이 낮을수록 주석이 많아지는 이유**  
    - **가독성이 낮은 코드** → 코드만으로 의미를 이해하기 어렵다.  
    - **함수나 변수명이 애매함** → 변수의 의미를 설명하는 주석이 필요해진다.  
    - **중복된 코드가 많음** → 같은 내용의 주석을 여러 번 달아야 한다.  
    - **코드의 흐름이 직관적이지 않음** → 코드가 "왜 이렇게 동작하는지" 설명하는 주석이 필요하다.

> 코드 품질이 높아지면 주석의 필요성이 자연스럽게 줄어든다.

### 🤨 **3) 주석이 많다고 좋은 코드일까?** 

- 주석이 많다고 코드가 좋은 것이 아닌 이유  
    - **주석이 많으면 유지보수해야 할 내용도 많아진다.**  
    - **코드는 지속적으로 변경되지만, 주석은 종종 업데이트되지 않는다.**  
    - **오래된 주석은 잘못된 정보를 전달할 가능성이 높다.**

- **좋은 코드의 조건**  
    - **주석 없이도 의미가 전달되는 코드**  
    - **함수명과 변수명을 적절히 설정하여 코드 자체가 의도를 설명하는 코드**  
    - **불필요한 복잡성을 제거하여 직관적으로 이해할 수 있는 코드**

### **📉 4) 코드 품질을 높이면 주석이 줄어든다** 

- **코드 품질이 낮으면 주석이 많아지는 현상**  
    - 코드가 복잡하면 개발자가 의도를 설명하기 위해 주석을 추가해야 함  
    - 불필요한 주석이 많아지면서 유지보수 비용 증가

- **코드 품질을 높여 주석을 줄이는 방법**  
    - **가독성 높은 함수와 변수명 사용**  
        - `int x; // 사용자 나이` → `int userAge;`  
        - `processData(true); // 검증 포함` → `processDataWithValidation();`

    - **한 가지 역할만 수행하는 함수 설계**  
        - `fetchAndProcessUserData();` → **데이터 가져오기와 처리하는 역할을 분리해야 한다.**  
        - `fetchUserData();` + `processUserData();`로 분리하면 주석 없이도 이해 가능

    - **코드의 흐름을 직관적으로 유지**  
        - **명령문과 조회문을 혼합하지 않는다.**  
        - **조건문을 단순화하여 가독성을 높인다.**  
        - **중복을 줄이고, 재사용 가능한 코드로 정리한다.**

<br>

## 🚫 2. 나쁜 주석과 불필요한 주석을 피하는 방법 



### 🚨 **1) 주석이 코드보다 신뢰할 수 없는 이유** 

- **코드는 실행되지만, 주석은 실행되지 않는다.**  
    - 코드가 변경되더라도 컴파일러는 이를 감지하지만, 주석은 감지되지 않는다.  
    - 코드와 주석이 불일치하면 개발자는 잘못된 정보를 신뢰할 가능성이 높다.
- **주석이 많아질수록 유지보수 비용이 증가한다.**  
    - 코드 변경 시 주석도 함께 수정해야 하므로, 불필요한 작업이 추가된다.  
    - 오래된 주석이 남아 있으면 코드보다 주석을 신뢰하는 개발자가 실수할 가능성이 커진다.
- **주석이 코드보다 신뢰성이 낮다.**  
    - 코드의 동작을 설명하는 주석은 코드가 변경될 때마다 수정해야 한다.  
    - 코드 자체를 개선하여 의도를 명확하게 표현하는 것이 더 효과적이다.

### 🔑 **2) 주석을 줄이는 3가지 핵심 원칙** 

- **가독성 높은 함수와 변수명을 사용**  
    - 코드 자체가 의미를 전달하도록 명확한 네이밍을 적용

- **코드의 의도를 드러내는 구조 설계**  
    - 복잡한 조건문이나 로직을 별도의 함수로 분리하여 코드만으로도 이해할 수 있도록 구성

- **중복된 코드와 불필요한 설명 제거**  
    - 같은 내용의 주석이 반복되지 않도록 코드 자체를 단순화

### ❌ **3) 대표적인 나쁜 주석 유형과 해결 방법** 

- **주절거리는 주석**  
    - 코드보다 설명이 더 길거나 불필요하게 장황한 주석  
    → 핵심 정보만 간결하게 작성

- **중복된 내용을 설명하는 주석**  
    - 코드에서 이미 드러나는 정보를 반복 설명  
    → 함수명과 변수명을 명확하게 설정하여 주석 제거

- **오래된 주석**  
    - 코드가 변경되었지만 주석이 업데이트되지 않음  
    → 불필요한 주석은 제거하고, 필요한 주석은 최신 상태로 유지

- **의무적으로 다는 주석**  
    - 모든 함수에 형식적으로 추가하는 불필요한 주석  
    → 필요한 경우에만 주석을 작성

- **코드 변경 이력을 남기는 주석**  
    - 코드 변경 이력 (변경 사항 및 변경 날짜)에 대한 주석  
    → Git과 같은 버전 관리 시스템을 활용하여 변경 이력을 추적

- **주석으로 처리된 코드**  
    - 필요 없는 코드를 주석으로 남겨두는 경우  
    → 불필요한 코드는 삭제하고, 필요한 경우 버전 관리 시스템에서 복원

### 🏗️ **4) 주석보다 좋은 코드 구조 만들기** 

- **명확한 네이밍을 사용하여 주석을 제거**  
    - 의미 있는 변수명과 함수명을 설정하여 주석 없이도 코드의 목적을 쉽게 이해할 수 있도록 개선

- **함수 분리를 통해 코드 가독성을 높이기**  
    - 여러 기능을 수행하는 함수를 작은 단위로 나눠 가독성을 개선

- **조건문을 단순화하여 의미를 명확히 하기**  
    - 복잡한 조건문을 단순화하여 가독성을 높임

- **중복된 코드 제거하여 명확한 역할 부여**  
    - 중복된 코드를 줄이고, 모듈화를 통해 유지보수를 쉽게 함

> "코드를 개선하면, 주석 없이도 충분히 이해할 수 있다."

<br>

## 📌 3. 좋은 주석이 필요한 이유 



### 📌 **1) 언제 주석이 꼭 필요한가?**

- **법적 또는 규제 요구 사항이 있는 경우**  
    - 오픈소스 라이선스, 저작권 정보, 보안 관련 경고가 필요한 경우  
    - 기업 내부 정책이나 보안 관련 규정을 명시해야 하는 경우

- **특정한 설계 의도를 설명해야 하는 경우**  
    - 특정 방식으로 구현된 이유를 남겨야 하는 경우  
    - 코드가 특정한 기술적 제한이나 성능 최적화를 반영해야 하는 경우

- **복잡한 알고리즘이나 수학적 연산이 포함된 경우**  
    - 코드만으로는 이해하기 어려운 수식이나 알고리즘이 포함된 경우  
    - 비효율적인 접근 방식 대신 최적화된 기법을 사용한 이유를 설명해야 하는 경우

- **API 문서화가 필요한 경우**  
    - 외부 개발자가 사용해야 하는 라이브러리나 프레임워크의 함수, 클래스 설명이 필요한 경우  
    - REST API 엔드포인트 설명이 필요한 경우

- **특정 환경에서만 동작하는 코드**  
    - 플랫폼별 차이가 존재하거나 특수한 설정이 필요한 경우  
    - 운영체제별 차이가 있는 코드에서 실행 환경을 설명해야 하는 경우

- **코드의 의도를 명확히 전달해야 하는 경우**  
    - 코드가 특정한 비즈니스 로직을 반영하는 경우  
    - 일반적인 패턴과 다르게 구현된 이유를 설명해야 하는 경우

### ✍️ **2) 좋은 주석을 작성하는 5가지 원칙** 

- **필요한 경우에만 작성하기**  
    - 코드만으로 충분히 의미를 전달할 수 있다면 주석을 작성하지 않는다.  
    - 불필요한 주석을 남발하지 않고, 꼭 필요한 부분에만 추가한다.

- **간결하고 명확한 문장 사용**  
    - 짧고 직관적인 설명으로 가독성을 높이고 불필요한 내용을 배제한다.  
    - 문장이 길어질 경우, 핵심 내용만 유지하고 간결하게 정리한다.

- **코드의 변경에 영향을 받지 않도록 작성**  
    - 코드가 변경될 때마다 수정해야 하는 주석을 최소화한다.  
    - 코드의 동작 방식이 아니라 **"왜 이렇게 구현했는지"**를 설명하는 주석을 작성한다.

- **의도를 설명하는 주석 사용**  
    - 코드가 **"무엇을 하는지"**가 아니라 **"왜 이렇게 작성되었는지"**를 설명한다.  
    - 비즈니스 로직이나 특정한 기술적 결정이 들어간 경우, 그 이유를 명확히 기록한다.

- **일관된 스타일과 형식 유지**  
    - 주석의 형식과 표현 방식을 프로젝트 전체에서 일관되게 사용한다.  
    - 여러 개발자가 동일한 방식으로 주석을 작성하도록 가이드라인을 유지한다.

### **🔍 3) 좋은 주석의 예시 및 설명** 

- **법적 주석**  
    - 저작권 정보, 라이선스, 사용 조건을 명확히 설명하는 주석
- **API 문서화 주석**  
    - 공개 API의 사용법을 설명하는 Javadoc, Docstring, Swagger 등의 문서화 주석
- **의도 설명 주석**  
    - 코드 작성 이유나 특정한 설계 결정을 명확히 하는 주석
- **플랫폼 또는 환경 의존적인 코드에 대한 설명**  
    - 특정 OS 또는 브라우저에서만 작동하는 코드에 대한 설명
- **중요한 비즈니스 로직 설명**  
    - 코드의 동작이 복잡한 경우, 핵심 개념을 보완하는 주석

> "주석이 필요한 경우라면, 코드만으로는 의도를 전달할 수 없는 이유를 고민해야 한다."

<br>

## 🌟 4. 결론: 주석을 줄이는 것이 최선이다 



### 🔧 **1) 유지보수성과 주석의 관계**

- **주석이 많을수록 유지보수 부담이 증가**  
    - 코드가 변경될 때마다 주석도 함께 수정해야 하므로 관리해야 할 요소가 많아진다.  
    - 코드와 불일치하는 오래된 주석이 유지보수를 더욱 어렵게 만든다.

- **주석이 오래될수록 거짓 정보를 전달할 가능성이 높음**  
    - 코드가 변경되었지만 주석이 업데이트되지 않으면 잘못된 정보를 전달할 수 있다.  
    - 개발자는 코드보다 주석을 먼저 읽을 가능성이 높아, 오류를 초래할 위험이 커진다.

- **좋은 코드일수록 주석이 적다**  
    - 코드 자체로 의도를 설명할 수 있다면 주석이 필요하지 않다.  
    - 가독성이 높은 코드일수록 주석 없이도 이해하기 쉬워 유지보수성이 향상된다.

### 📖 **2) 코드 가독성을 높이는 것이 주석보다 중요하다**  

- **가독성 높은 코드가 최우선**  
    - 의미 있는 함수명과 변수명을 사용하면 주석 없이도 코드의 의도가 명확해진다.  
    - 불필요한 주석을 줄이고 코드만으로 설명할 수 있도록 개선해야 한다.

- **명확한 코드 구조 유지**  
    - 한 가지 역할만 수행하는 작은 함수로 분리하여 코드의 논리 흐름을 직관적으로 만든다.  
    - 모듈화된 코드는 주석 없이도 가독성이 높아진다.

- **중복을 제거하고 일관성을 유지**  
    - 같은 기능을 수행하는 코드를 반복하지 않고, 재사용 가능한 방식으로 정리한다.  
    - 일관된 코딩 스타일을 유지하면 주석 없이도 코드가 쉽게 읽힌다.

- **주석 없이도 이해할 수 있는 코드가 목표**  
    - 코드를 읽는 개발자가 별도의 주석 없이도 흐름을 파악할 수 있도록 작성해야 한다.  
    - 주석이 필요하다고 느껴진다면, 먼저 코드 자체를 개선할 방법을 고려해야 한다.

### 🔄 **3) 주석이 필요한 경우, 어떻게 유지보수할 것인가?**  

- **주석을 최소한으로 유지하고, 주기적으로 검토**  
    - 불필요한 주석은 삭제하고, 남겨둬야 할 주석은 최신 상태로 유지해야 한다.  
    - 오래된 주석이 남아있지 않도록 코드 리뷰 과정에서 지속적으로 점검해야 한다.

- **자동화 도구 활용**  
    - API 문서는 자동 생성되도록 설정하고, 불필요한 주석을 최소화한다.  
    - 코드 스타일 가이드라인을 준수하도록 정적 분석 도구를 활용한다.

- **코드 변경 시 주석도 함께 업데이트**  
    - 코드가 변경될 경우 관련된 주석도 반드시 수정하여 일관성을 유지한다.  
    - 오래된 주석을 방치하지 않고, 필요 없는 주석은 삭제한다.

- **문서와 코드의 역할을 구분**  
    - 코드 내에서는 최소한의 주석만 남기고, 상세한 설명은 별도의 문서로 정리한다.  
    - 개발자들이 참고할 수 있도록 기술 문서를 체계적으로 관리한다.

### 🔧 **4) 코드를 개선하는 것이 주석보다 우선이다**  

- **주석 없이도 이해할 수 있도록 코드 품질을 높이는 것이 최선**  
    - 코드 품질이 좋을수록 자연스럽게 주석이 줄어든다.  
    - 코드의 가독성과 유지보수성을 향상시키는 것이 더 중요한 목표다.

- **주석을 달기 전에, 코드 자체를 개선할 방법을 먼저 고민**  
    - 주석이 필요하다고 느껴지면, 함수 분리, 변수명 개선 등의 리팩토링을 먼저 시도한다.  
    - 불필요한 주석을 달지 않도록 코드의 구조를 명확하게 만든다.

- **코드만이 유일한 진실**  
    - 주석은 변할 수 있지만, 결국 실행되는 것은 코드다.  
    - 좋은 코드는 불필요한 주석 없이도 충분히 이해될 수 있어야 한다.

> "주석은 필요할 수도 있지만, 주석을 줄이는 것이 최선이다."
