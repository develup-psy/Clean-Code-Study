# 4장. 주석

---

## 📍 REVIEW

결론부터 말하면 4장에 대한 나의 전체적인 의견은 저자와 완전히 맞지는 않는다. 저자는 주석은 의도를 표현하지 못해 실패한 코드에 대해, 실패를 만회하기 위한 수단으로 사용되는 것이 주석이라며 주석에 대해 강렬히 비판하는 것을 넘어서 주석을 무시한다. 주석을 다는 것 보다 ‘좋은 코드’를 작성하려 노력하는 것이 의미있는 과정이라는 바에는 나 역시 동의한다. 하지만 주석을 이토록 ‘강렬히’ 비판하는 부분에 대해서는, 영어를 제 1 언어로 사용하는 사람의 입장에서는 4장에 서술된 대로 생각할 수 있겠으나, 그렇지 않은 입장에서는 일부분 반대한다.

적절한 이름이 영어로 작성된 함수 또는 클래스를 읽었을 때 단번에 이해할 수 있는 원어민은, 적절한 정보가 영어로 작성된 주석을 읽는 과정이 불필요할 것이다. 왜? 어차피 같은 내용의 반복일테니까. 다만 영어보다 모국어가 익숙한 나와 같은 사례에서는, 아무리 친절하게 작성된 영어라 하더라도 모국어로 작성된 설명에 대한 이해도가 훨씬 빠르고 정확하다.

다만, 저자와 동의하는 부분은, 좋은 주석을 다는 것 보다는 좋은 코드를 작성하는 것이 의미있는 과정이라는 것이다.

## 📍 주석은 실패한 코드의 반증

### 🔍  잘 달린 주석보다는 좋은 코드

> 나쁜 코드에 주석을 달지 마라. 새로 짜라
> - 브라이언 W. 커니핸, P.J. 플라우거

주석은 코드에 대한 이해도를 높이기 위해 작성된다. 문제는, 때때로 주석은 이해도를 높이는 것을 넘어서 실패한 코드를 수습하기 위해 작성된다는 것이다. 이럴 때 주석은 실패한 코드의 반증이다. 코드 자체로 이해 시키는 것을 실패하여, 주석으로 수습하겠다는 것이기 때문이다. 진실은 오로지 코드에만 존재하므로, 주석을 가능한 줄이도록 노력해야 할 것이다.

#### ☑️ 주석의 나쁜 유지보수성

주석은 코드에 비해, 주석은 유지보수가 현실적으로 불가능하다. 현재의 IDE에서는 변수명 또는 클래스명을 수정할 때 선언된 모든 위치의 이름을 한 번에 수정해주는 등, 코드의 값이 변경될 때 변경 내용을 전체 코드에 대해 반영하는 과정이 매우 간편하다. 하지만 주석은 변경되는 코드의 속도를 자동으로 따라갈 수 없고, 모두 수작업으로 처리해야만 한다. 따라서, 코드가 누적될수록, 오래된 주석은 거짓과 잘못된 정보를 전달할 가능성이 농후하다. 주석이 위험한 이유는 주석이 올바른지 검정하는 것이 어렵기 때문이다.

## 📍 필요한 주석

### 🔍  외부에게 정보를 제공하기 위한 주석

#### ☑️ 공개 API에서 JavaDocs

공개 API 제공 시 사용 방법에 대해 설명하는 Javadocs가 필요하다. 자바 프로그램을 작성하는 길잡이가 될 수 있는 문서로, 이 역시 그릇된 정보를 전달하지 않도록 유의해야 한다.

#### ☑️ 법적인 주석

소스파일 첫 머리에, 저작권 정보와 소유권 정보를 작성하는 것이 필요한 경우이다. 이러한 법적 정보는 어떤 코드로도 대체될 수 없다. 모든 항목에 대해 나열하기보다는, 표준 라이선스를 가이드로 참조해 작성하면 좋다.

### 🔍  프로그래머의 이해도 및 유지보수를 위한 주석

#### ☑️ 결과를 경고하는 주석

다른 프로그래머에게 경과를 경고하는 경우다. 실행 시간이 오래 걸리므로 테스트 케이스를 꺼야 함을 알리는 등에 해당한다.

#### ☑️ TODO 주석

앞으로 할 일을 `//TODO` 의 주석으로 남겨두는 경우이다. 필요한 부분이지만 당장 구현하기 어려운 업무를 남길 수 있다. 요즈음의 IDE는 TODO 주석만 찾아 볼 수도 있으니 이러한 주석은 유지보수도 가능한 부분이라 할 수 있겠다. 단, 이 주석이 의미 있으려면 기적으로 TODO 주석을 점검해 구현 완료된 부분은 제거하는 등의 과정이 필요하다.

#### ☑️ 의도를 설명하는 주석

구현의 이해도를 넘어서 결정의 의도를 설명하는 경우다. 정렬 우선 순위를 설명하는 등에 해당한다.

#### ☑️ 기타 정보를 전달

- 기능에 대한 정보를 설명하는 주석  
  함수 또는 클래스에 대해 어떤 기능을 수행하는 것인지 적는 경우. 좋은 함수명 등으로 대체하는 편이 좋다.
- 의미를 명료하게 밝히는 주석  
  ⇒ 메소드명 등으로 의미가 파악되기 어려운 경우 작성되는 경우.

## 📍 나쁜 주석

### 🔍  의미 없는 주석

#### ☑️ 코드와 같은 이야기를 반복하는 주석

- 단순 의무감에, 마지못해, 함수명 등을 단순 해석해 둔 주석

#### ☑️ 소스코드 관리 시스템으로 기능이 대체된 주석

- 변경 이력을 기록해 둔 주석
- 코드 작성자를 기록해 둔 주석
- 작성된 코드를 주석처리한 경우  
  이 경우는 특히, 사용자로 하여금 언젠가 필요한 중요한 코드 라는 인식을 남겨 삭제를 거의 불가능한다. 소스코드 관리 시스템에 전적으로 맡길 것.

#### ☑️ 비공개 코드의 Javadocs

Javadocs는 공개 API에서나 유용하다. 비공개인 경우의 Javadocs는 쓸모가 없으며, 코드를 산만히 만들 뿐이다.

### 🔍  유의해 작성해야 하는 주석

#### ☑️ 모호하게 작성된 주석

- 명확하지 않아 오해할 여지가 있는 주석  
  ⇒ 코드에 대한 이해도를 높이도록 돕는 주석이 아니라, 오히려 프로그래머로 하여금 예상치 못한 결과 반환으로 혼란을 가중시킬 수 있다.  
  ⇒ 예를 들어 태초의 상태를 판단해 특정 동작이 실행되는 함수에 대해 `~할 때` 라고 주석에 서술되어 있다고 가정하자. 어쩌면 프로그래머는 상태가 중간에 변화`할 때`에도 동작이 실행되리라는 기대 하에 함수를 호출했을 수 있겠다. 이런 경우, 사용자는 주석의 정보를 믿고 함수를 실행한 것이지만 예상치 못한 결과를 얻을 수 있다.  
  ⇒ 추가적인 설명을 요구하는 주석  
  ⇒ 주석은 사용자의 이해도를 높이기 위한 것인데, 주석 자체에서 충분한 정보를 제공하지 않을 경우 주석이 또 다른 해석을 사용자에게 떠넘기는 경우가 있다. 이런 주석은 정보를 명확히 기술하도록 수정해 작성되어야 한다.

#### ☑️ 특정 위치를 표시하기 위한 주석

추후 검색 등을 위해 이 기능이 이 곳에 있음을 알리는 목적으로  배너 등을 작성한 경우. 꼭 필요하다면 작성해야 할 것이나, 그 정도가 잦아서는 절대 안된다.

#### ☑️ 닫는 괄호에 다는 주석

일부 중첩이 심하거나 너무 긴 함수에서는 유용할 수 있겠다. 다만, 닫는 괄호에 주석을 달기보다 함수의 단위를 쪼개는 것을 시도하는 편이 낫다.