# 객체와 자료구조

## 6장에 대한 요약

**1. 객체와 자료 구조의 본질적 차이점**

- 객체는 자료를 숨기고 그것을 다루는 함수만을 공개합니다. 즉, 객체 내부의 상태는 외부에서 직접적으로 접근할 수 없으며, 객체는 그 상태를 다루는 메서드만을 통해서만 상호작용할 수 있습니다.
- 반면 자료 구조는 데이터를 그대로 공개합니다. 즉, 외부에서 자료 구조의 데이터를 직접적으로 조작할 수 있습니다. 이 때문에 자료 구조는 데이터를 다루는 메서드 없이, 주로 데이터를 단순히 담고 있는 구조입니다.

두 개념은 본질적으로 상반되는 특성을 가지고 있습니다. 객체는 동작을 공개하고 자료는 그 자체로 데이터를 노출합니다. 이러한 차이로 인해 절차적인 코드와 객체 지향 코드는 서로 다른 방식으로 확장 및 변경을 처리합니다.

**2. 객체 지향 vs. 절차적 코드의 확장 용이성**

- 절차적인 코드에서는 기존 자료 구조를 변경하지 않으면서 새 함수를 추가하는 것이 쉬운 반면,
- 객체 지향 코드에서는 기존 함수를 변경하지 않으면서 새로운 클래스를 추가하는 것이 쉽습니다. 이는 객체 지향 코드가 새로운 기능을 추가할 때 기존의 클래스 설계가 영향을 받지 않도록 추상화를 잘 활용하기 때문입니다.

하지만 반대의 경우는 어렵습니다. 절차적인 코드에서 새로운 자료 구조를 추가하려면 모든 함수를 수정해야 하고, 객체 지향 코드에서는 새로운 메서드를 추가하기 어렵다는 점이 단점으로 작용합니다. 이처럼 객체 지향 코드와 절차적 코드는 서로 다른 방식으로 확장과 변경을 다루기 때문에, 상황에 맞게 선택적으로 사용해야 합니다.

**3. 객체 지향 코드에서 새로운 함수와 새로운 자료 타입의 필요성**

- 새로운 함수가 아니라 새로운 자료 타입이 필요할 때는 객체 지향 기법이 가장 적합합니다. 예를 들어, 새로운 엔티티나 새로운 데이터 타입을 관리해야 할 경우, 객체 지향에서는 클래스를 추가함으로써 새로운 자료 타입을 정의하고, 그 자료 타입에 대한 동작을 분리하여 관리할 수 있습니다.
- 반면, 새로운 함수가 필요할 때는 절차적인 코드와 자료 구조가 유리합니다. 예를 들어, 기존 자료 구조에 새로운 동작(메서드)을 추가하는 것은 절차적인 코드에서 훨씬 더 용이합니다.

따라서 상황에 따라 객체 지향과 절차적 코드를 적절히 혼합하여 사용하는 것이 중요합니다. 객체 지향 기법이 강력하지만 모든 상황에 적합한 것은 아니므로, 때로는 단순한 자료 구조나 절차적인 코드가 더 적합한 해결책이 될 수 있습니다.

**4. 디미터 법칙 (Law of Demeter)**

- 디미터 법칙은 "모듈은 자신이 조작하는 객체의 속사정을 몰라야 한다"는 법칙입니다. 이는 객체가 내부 구조를 외부에 노출하지 않고, 외부 객체와의 상호작용을 최소화해야 한다는 것을 의미합니다. 즉, 객체는 다른 객체의 구체적인 구현에 의존하지 않도록 해야합니다.
- 예를 들어, 객체 내부 구조를 숨기지 않으면, 디미터 법칙을 위반하게 되며, 기차 충돌(Object chaining)과 같은 조잡한 코드가 발생할 수 있습니다. 이러한 방식은 코드의 가독성과 유지보수성을 떨어뜨릴 수 있기 때문에 피해야 합니다.

**5. 자료 전달 객체(DTO)와 활성 레코드**

- **DTO(자료 전달 객체)**는 데이터베이스와의 통신에 사용되는 자료 구조체로, 데이터만을 포함하고 있으며, 함수는 포함하지 않습니다. DTO는 단순한 데이터 구조로서, 디비의 레코드나 소켓 메시지를 다루는 데 유용합니다.
- 활성 레코드는 DTO의 특수한 형태로, 데이터와 함께 save(), find()와 같은 탐색 함수도 포함된 구조입니다. 하지만 비즈니스 로직을 담은 함수를 활성 레코드 안에 추가하는 것은 좋지 않은 설계로 간주되며, 이는 자료 구조와 비즈니스 로직이 혼합되는 잡종 구조가 발생할 수 있습니다. 활성 레코드는 자료 구조로 취급하고, 비즈니스 로직은 별도의 객체로 관리하는 것이 바람직합니다.

**결론**

- 객체 지향은 동작을 공개하고, 자료 구조는 자료를 숨깁니다. 이로 인해 객체 지향 코드는 기존 동작을 변경하지 않으면서 새 객체 타입을 추가하기 쉽고, 자료 구조는 기존 자료 구조에서 새 동작을 추가하기 용이합니다.
- 객체 지향 코드와 자료 구조는 각각 다른 특성을 가진 도구입니다. 객체 지향은 동작의 추가가 용이하고, 자료 구조는 새 기능 추가가 용이합니다.
- 객체 지향 설계와 자료 구조 설계는 서로 보완적인 관계에 있으며, 상황에 따라 적절히 선택하여 사용하는 것이 중요합니다.

## 느낀점 및 배운점

이 장을 통해, 객체 지향 설계와 자료 구조 설계의 차이를 명확히 구분할 수 있었습니다. 객체 지향 설계에서는 동작을 중심으로 상태를 관리하고, 자료 구조 설계에서는 자료 자체를 중심으로 기능을 추가한다고 볼 수 있습니다. 또한, 디미터 법칙과 같은 설계 원칙은 객체 지향 설계에서 필수적으로 고려해야 할 부분임을 깨달았습니다. 이 장에서는 객체 지향 설계와 자료 구조 설계 각각의 장단점을 이해하고, 상황에 맞는 설계 방식을 선택하는 것이 중요하다는 점을 알게 되었습니다.
