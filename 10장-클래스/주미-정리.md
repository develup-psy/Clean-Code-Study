# 10장. 클래스

---


## 📍 REVIEW

이번 장은 여태껏 다뤘던 개념보다 상위 단계인 “클래스”에 대한 이야기이다. 읽으면서 가장 크게 느낀 건, 역시 “작게 만들기”는 모든 깨끗한 코드의 출발점이라는 점이다. 자칫 간과할 수 있는 크기는 응집도를 높이고, 구조를 체계적으로 만들며 유지보수와 확장성에 큰 영향을 미친다는 것을 계속 유의해야 할 것이다.

또한 이번 장에서는 객체지향 설계 원칙인 SRP, OCP, DIP가 함께 언급되며, 클래스가 단순한 코드 묶음이 아니라 변화에 유연한 구조를 설계하는 핵심 단위임이 강조됐다. 특히 추상화에 의존해 결합도를 낮추고, 책임을 분리하는 접근 방식은 실무에서도 자주 마주하는 고민일 것 같았디. 좋은 클래스는 기능이 아니라 구조로 말한다는 말이 떠오른다.

## 📍 클래스 작성 가이드

### 🔍 좋은 클래스의 규칙

#### ☑️ 클래스도 역시 “작게” 만들 것

클래스 역시 가장 중요한 건 “작게” 적는 것이다. 매번 강조되는 것이지만 몇 번이고 강조해도 부족하지 않은 원칙이다. 모든 코드 작성의 기초는 “작게” 작성하는 것 부터이다.

#### ☑️ 클래스 체계를 따를 것

자바에서 클래스를 작성하는 개발자들 간의 관례가 있다. 이는 암묵적으로 합의된 부분으로, 기본적인 클래스 구조에 관한 것이다. 언제나 이 체계를 따르도록 유념해야 한다.

클래스의 최상단에는 변수목록이 정의된다. 변수들 간의 우선순위는 public static 변수 → private static 변수 → private 인스턴스 변수 순이다.

변수 다음에는 함수 목록이 정의된다. 함수는 public 함수 먼저 작성하고, private 함수는 호출하는 public 함수 바로 아래에 세로 길이를 가깝게 작성하도록 한다.

#### ☑️ 응집도는 높게

응집도란 클래스 안에 있는 변수와 함수 간의 친밀도를 뜻하는 용어이다. 클래스 안에 있는 요소들이 친밀하게 응집되어 클래스가 하나의 책임을 하도록 논리적인 단위로 똘똘 뭉친 상황이 응집도가 높은 경우인 것이다.

응집도를 판단하는 기준은 클래스 메서드가 클래스 인스턴스 변수를 얼마나 많이 사용하는지에 있다. 메서드가 변수를 더 많이 사용할 수록 메서드와 클래스는 응집도가 더 높다. 예를 들어, 소수 메소드만 사용하는 변수등의 상황에서는 응집도를 높이기 위해 클래스를 분리할 수 있다. 응집도가 높아지도록 변수와 메서드를 적절히 분리해 새로운 클래스로 쪼개주면 된다.

### 🔍 객체 지향 설계의 원칙

#### ☑️ SRP : 단일 책임 원칙

클래스는 작아야 한다. 클래스에서 “작다”를 가늠하는 크기를 세는 단위는 책임의 개수와 같다. 우리가 지향해야 하는 작은 클래스는, 제일 적은 책임인 하나의 책임만 갖는 클래스이다.

하나의 책임을 갖는 지는 어떻게 판단할까? 가장 기본적으로 클래스의 이름을 작성 또는 수정할 때, 해당 클래스가 하는 일을 모두 정확히 정의하도록 한다. 간결하지 않고 장황하거나, 이름에 접속사(and, or, but, if)가 들어간다면 여러 책임을 갖는 클래스인지 의심하라. 하는 일의 목록을 정의하면 책임의 개수를 확인할 수 있을 것이다.

만약 여러 책임을 하는 클래스라면, 이는 단일 책임 원칙을 따르도록 클래스가 분리돼야 한다.

#### ☑️ OCP : 개방-폐쇄 원칙

클래스 역시 지속적인 변경에 대해 유연하게 대응해야 하며, 유지보수가 쉬워야 한다. 유지보수와 관련한 설계 규칙이 OCP(Open-Closed Principle)이다. OCP는, 확장에 대해 열려 있어야 하고, 수정에 대해서는 닫혀 있어야 한다는 규칙이다. 즉, 새로운 것을 추가하는 확장은 최대한 기존의 코드를 수정하는 일이 없이, 아주 쉽게 이루어져야 한다는 것이다.

지저분하게 모든 함수가 같은 레벨로 되어 있는 클래스에서는 OCP가 위반된다. OCP을 따르도록 리팩토링할 때 유의해냐 하는 규칙은 다음과 같다.

1. 공개 메서드를 파생 클래스로 구현
2. 비공개 메서드는 사용되는 파생 클래스 안으로 이동
3. 모든 파생 클래스가 공통으로 사용하는 메서드는 유틸리티 클래스로 취합

리팩토링을 하면, 놀랍도록 가벼워진 아주 많은 클래스를 확인할 수 있을 것이다. 모든 클래스는 SRP를 따르고, OCP도 지키며, 응집도 또한 매우 높다.

#### ☑️ DIP : 추상화에 의존하라

클래스가 상세한 구현이 아니라 추상화에 의존해야 한다는 원칙이다. 상세한 구현에 의존하는 클래스는 결합도가 높게 되고, 구현의 변경에 대해 일부 종속적일 수 있음을 의미하여, 의도치 않은 위험을 야기할 수 있다. 구현이 미치는 영향을 최소화하기 위해, 인터페이스와 추상 클래스를 사용하여 의존되는 대상을 추상화로 대체해야 한다.

추상화를 통해 결합도를 낮추면, 다른 요소와 변경으로부터 잘 격리왼 클래스를 생성할 수 있고, 유연성과 재사용성 또한 높아진다.